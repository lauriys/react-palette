import e from"node-vibrant";import t from"lodash.camelcase";import r from"lodash.invoke";import{jsx as n,Fragment as a}from"react/jsx-runtime";import o from"react";function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}var i=function(n){try{return Promise.resolve(e.from(n).getPalette()).then(function(e){return Object.keys(e).reduce(function(n,a){var o;return c({},n,((o={})[t(a)]=r(e,[a,"getHex"]),o))},{})})}catch(e){return Promise.reject(e)}},u={loading:!0,data:{},error:void 0};function l(e,t){switch(t.type){case"getPalette":return u;case"resolvePalette":return c({},e,{data:t.payload,loading:!1});case"rejectPalette":return c({},e,{error:t.payload,loading:!1})}}function s(e){var t=o.useReducer(l,u),r=t[0],n=t[1];return o.useEffect(function(){var t=!0;return!t||n({type:"getPalette"}),i(e).then(function(e){!t||n({type:"resolvePalette",payload:e})}).catch(function(e){!t||n({type:"rejectPalette",payload:e})}),function(){t=!1}},[e]),r}var f=function(e){var t=e.children,r=s(e.src);return n(a,{children:t(r)})};export{f as Palette,f as default,i as getPalette,s as usePalette};
//# sourceMappingURL=react-palette.mjs.map
